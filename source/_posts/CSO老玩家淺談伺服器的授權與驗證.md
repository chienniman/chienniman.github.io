---
title: CSO老玩家淺談伺服器的授權與驗證
date: 2023-02-21 23:02:00
tags:
    - Backend
    - Server
    - Authentication
    - Authorization
cover: /images/cso.jpg
---

國中回到家的第一件事，衝到電腦桌前，輕車熟路地打開遊戲，心中抑制不住的雀躍感讓腎上腺素飆升，手指沁出汗液，CSO(射擊遊戲)，無數70、80後少年花費了大把的黃金歲月與金錢，為了能獲得"氪金神氣"。
想要征服危機四伏的義大利巷戰，需要準備的不是堪比P95的防毒面具，也不是能讓殭屍聞風喪膽的蛇姬之吻M95，~~而是大課長的帳號密碼~~。

## Authentication驗證
驗證就是告訴伺服器登入者是其所聲稱的使用者(~~公帳又是一回事~~)

不考慮中國的實名認證，大多數國家都是用一組帳號密碼，以下是簡易流程
```
              +------------------------+        
              |    遊戲客戶端啟動        |        
              +-----------+------------+        
                          |                    
                          | 向遊戲伺服器發送認證請求  
                          |                    
              +-----------v------------+        
              |   遊戲伺服器進行認證     |        
              +-----------+------------+        
                          |                    
                          | 驗證玩家帳號和密碼是否正確、權限(有無鎖帳號)    
                          |                    
              +-----------v------------+        
              |   確認帳號和密碼正確     |        
              +-----------+------------+        
                          |                    
                          | 允許進入遊戲伺服器    
                          |                    
              +-----------v------------+        
              |       排隊進入遊戲       |        
              +------------------------+        

```
## Authorization授權
當玩家通過認證進入遊戲伺服器後，伺服器會根據玩家的賬戶信息和權限進行授權，假設想要2023的年槍，紫炫流光，就得向伺服器獲得"授權"，買解碼器、黑市，才能解鎖新武器。

以下以商店販買的槍進行簡單舉例
```
選擇購買的武器 -> 檢查是否有足夠點數 -> 扣款授權 -> 武器授權 -> 成功購買 

```

## 特點：
1.使用方便：使用帳號和密碼進行身份驗證是一種非常簡單和方便的方式。

2.可擴展性：可以很容易地擴展大量的使用者，在系統中輕鬆管理數百萬個用戶帳戶。

3.可靠性：大多數情況下是足夠可靠的。

## 防護：
1.密碼強度：為了確保安全性，建議使用強密碼，例如至少8位，並包含數字、字母和符號。

2.防止暴力破解：系統限制每個帳戶的登錄嘗試次數，在輸入錯誤密碼的次數超過一定限制後暫時鎖定該帳戶。

3.加密存儲密碼：存儲密碼時，應使用加密算法進行加密，並避免使用明文存儲。

4.多因素身份驗證：為了提高安全性，使用短信驗證碼、密碼和指紋等多種因素進行身份驗證。