---
title: 初探物件導向的博大精深
tags:
  - OOP
  - Encapsulation
  - Inheritance
  - Abstraction
  - Polymorphism
cover: /images/oop.jpg
author: Boris Chien
description: 
  當我們說到物件導向程式設計 (Object-Oriented Programming, OOP) 時，通常會提到四大特性 (Four Pillars of
  OOP)，分別是封裝 (Encapsulation)、繼承 (Inheritance)、多型 (Polymorphism) 和抽象
  (Abstraction)。簡單來說，這些特性可以幫助我們更好地設計、撰寫和維護程式碼。以下是四大特性的簡單介紹：
keywords:
  - OOP
  - Encapsulation
  - Inheritance
  - Abstraction
  - Polymorphism
categories:
  - OOP
abbrlink: 10266
date: 2023-03-29 21:23:28
---
## 四大特性
### 封裝（Encapsulation）
把程式碼、資料和相關方法包裝成一個單一的、獨立的單位的方式。這種方式可以達到隱藏實現細節的目的，只公開對外開放的接口和方法。封裝可以幫助我們降低系統的複雜度，提高程式碼的可讀性和可維護性，同時也可以防止外部損壞對象的內部狀態。
### 繼承（Inheritance）
一個類別（稱作子類別）可以獲取一個父類別的屬性和方法。子類別可以通過繼承父類別的功能來擴展自己的功能。繼承是實現代碼重用的一種方式，可以減少代碼的重複性，提高代碼的可讀性和可維護性
### 抽象（Abstraction）
將屬性與方法的實作細節隱藏，對使用者而言，可以在沒有檢視過類別程式碼，就透過屬性檢視、方法呼叫來運用功能
### 多型（Polymorphism）
多型指的是一個類別可以實現多個不同的形式。具體地說，實現子類別各自實現父類別方法，從而產生不同的表現形式。提高重用性
## 封裝（Encapsulation）
> 將抽象性函式介面的實作細節部份包裝、隱藏起來的方法。同時，它也是一種防止外界呼叫端，去存取物件內部實作細節的手段，這個手段是由程式語言本身來提供的。封裝被視為是物件導向的四項原則之一
[封裝](https://zh.wikipedia.org/zh-tw/%E5%B0%81%E8%A3%9D_(%E7%89%A9%E4%BB%B6%E5%B0%8E%E5%90%91%E7%A8%8B%E5%BC%8F%E8%A8%AD%E8%A8%88))
- public- 從任何地方訪問
- protected- 在類、子類訪問，
- private- 只能在類訪問

## 介面（interface）
定義了類或對象的屬性、方法和行為，不提供實現細節，為了被外部使用，方法都是公開的

{% codeblock lang:php %}
interface Car {
    public function start();
    public function drive();
    public function stop();
}
class MyCar implements Car {
    public function start() {
        echo "Car started\n";
    }
    public function drive() {
        echo "Car is being driven\n";
    }
    public function stop() {
        echo "Car stopped\n";
    }
}
$myCar = new MyCar();
$myCar->start();
$myCar->drive();
$myCar->stop();
{% endcodeblock %}

## 抽象類別（Abstract Class）
抽象類別是一種**特殊的類別，無法實例化，透過繼承來實現。包含實現、未實現的方法，子類必須實現所有未實現方法**，可重寫已實現方法。抽象類定義一些通用的行為和特徵，提供基礎實現，子類進行擴展和實現。
{% codeblock lang:php %}

abstract class Animal {
  public $name;
  
  public function __construct($name) {
    $this->name = $name;
  } 
  
  abstract public function sound();
}

class Dog extends Animal {
  public function sound() {
    return "Bark!";
  }
}`

$dog = new Dog("Max");
echo $dog->name . " says: " . $dog->sound(); // "Max says: Bark!"
{% endcodeblock %}

## 抽象類vs介面
抽象類可以包含方法實現，介面定義方法。**抽象類別通常用於定義一些基礎的實現，而介面通常用於定義通用的規範和標準**。

抽像類是不能被實例化的，它的存在主要是為了被繼承。抽像類可以有普通的方法實現，也可以有抽象方法聲明。抽像類中的抽象方法只有聲明沒有實現，需要子類實現。抽像類可以有屬性，也可以沒有，但是抽像類中的構造函數不能被直接調用，需要通過子類的構造函數進行調用。抽像類中的方法可以是 public、protected 或者 private，但是抽象方法必須是 public 或者 protected。

接口是一種特殊的抽像類，接口中的方法只有聲明，沒有實現。接口中的方法必須是 public 的，不能有實例變量或常量。實現接口的類必須實現接口中所有的方法。一個類可以實現多個接口，但只能繼承一個抽像類。

總的來說，抽像類和接口的主要區別在於：

* 抽像類可以有方法的實現，接口只有方法的聲明。
* 一個類只能繼承一個抽像類，但是可以實現多個接口。
* 抽像類的方法可以是 public、protected 或者 private，但是接口的方法必須是 public。
* 抽像類可以有屬性，接口中不能有實例變量或常量。
* 抽像類中的構造函數不能被直接調用，需要通過子類的構造函數進行調用，接口中沒有構造函數。

## 多型(Polymorphism)
多型指為不同資料類型的實體提供統一的介面，一致的呼叫方法
{% codeblock lang:php %}
abstract class Animal {
    protected $name;

    public function __construct($name) {
        $this->name = $name;
    }

    abstract public function makeSound();
}

class Dog extends Animal {
    public function makeSound() {
        return "Woof woof, I'm a $this->name";
    }
}

class Cat extends Animal {
    public function makeSound() {
        return "Meow, I'm a $this->name";
    }
}

$dog = new Dog("Labrador");
$cat = new Cat("Persian");

echo $dog->makeSound(); // output: Woof woof, I'm a Labrador
echo $cat->makeSound(); // output: Meow, I'm a Persian
{% endcodeblock %}

## 泛型（Generics）
實例化時才作為參數指明這些類型
{% codeblock lang:php %}
function printArray(array $arr) {
    foreach ($arr as $val) {
        echo $val . " ";
    }
}

$intArray = array(1, 2, 3, 4, 5);
$strArray = array("apple", "banana", "orange");

printArray($intArray); // 輸出：1 2 3 4 5
printArray($strArray); // 輸出：apple banana orange
{% endcodeblock %}
